{"is_source_file": true, "format": "TypeScript", "description": "This file defines a client-side API wrapper for interacting with backend endpoints, including authentication, decision management, and similarity search. It features request handling with error management, schema validation with zod, and stub fallback implementations.", "external_files": ["zod"], "external_methods": ["fetch"], "published": ["api"], "classes": [], "methods": [{"name": "async function requestJSON<T>( requestJSON", "description": "Generic function to perform fetch requests with JSON response parsing and error handling.", "scope": "", "scopeKind": ""}, {"name": "health", "description": "Checks the backend health endpoint, returns status info."}, {"name": "signIn", "description": "Handles user sign-in, with stub fallback if backend is unavailable."}, {"name": "signUp", "description": "Handles user sign-up, with stub fallback."}, {"name": "listDecisions", "description": "Retrieves list of decisions, stubbed implementation available."}, {"name": "createDecision", "description": "Creates a new decision, stubbed fallback returns a generated ID."}, {"name": "getDecision", "description": "Fetches details for a specific decision, stubbed fallback provides placeholder data."}, {"name": "updateDecision", "description": "Updates a decision's details, stubbed fallback does nothing."}, {"name": "similaritySearch", "description": "Performs similarity search via backend, stubbed returns mock results if backend unavailable."}], "calls": ["fetch", "SignInResponseSchema.parse", "SimilaritySearchResponseSchema.parse"], "search-terms": ["client.ts", "API_BASE", "requestJSON", "health", "signIn", "signUp", "listDecisions", "createDecision", "getDecision", "updateDecision", "similaritySearch", "zod"], "state": 2, "file_id": 31, "knowledge_revision": 76, "git_revision": "", "ctags": [{"_type": "tag", "name": "API_BASE", "path": "/home/kavia/workspace/code-generation/decision-insight-platform-325145-325156/decision_replay_frontend/src/lib/api/client.ts", "pattern": "/^const API_BASE =$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "SignInResponseSchema", "path": "/home/kavia/workspace/code-generation/decision-insight-platform-325145-325156/decision_replay_frontend/src/lib/api/client.ts", "pattern": "/^const SignInResponseSchema = z.object({$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "SimilaritySearchResponseSchema", "path": "/home/kavia/workspace/code-generation/decision-insight-platform-325145-325156/decision_replay_frontend/src/lib/api/client.ts", "pattern": "/^const SimilaritySearchResponseSchema = z.object({$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "api", "path": "/home/kavia/workspace/code-generation/decision-insight-platform-325145-325156/decision_replay_frontend/src/lib/api/client.ts", "pattern": "/^export const api = {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "bodyText", "path": "/home/kavia/workspace/code-generation/decision-insight-platform-325145-325156/decision_replay_frontend/src/lib/api/client.ts", "pattern": "/^    const bodyText = await res.text().catch(() => \"\");$/", "language": "TypeScript", "kind": "constant", "scope": "requestJSON", "scopeKind": "function"}, {"_type": "tag", "name": "health", "path": "/home/kavia/workspace/code-generation/decision-insight-platform-325145-325156/decision_replay_frontend/src/lib/api/client.ts", "pattern": "/^  async health() {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "okStatuses", "path": "/home/kavia/workspace/code-generation/decision-insight-platform-325145-325156/decision_replay_frontend/src/lib/api/client.ts", "pattern": "/^  const okStatuses = init?.expectStatus ?? [200, 201, 204];$/", "language": "TypeScript", "kind": "constant", "scope": "requestJSON", "scopeKind": "function"}, {"_type": "tag", "name": "requestJSON", "path": "/home/kavia/workspace/code-generation/decision-insight-platform-325145-325156/decision_replay_frontend/src/lib/api/client.ts", "pattern": "/^async function requestJSON<T>($/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/decision-insight-platform-325145-325156/decision_replay_frontend/src/lib/api/client.ts", "pattern": "/^  const res = await fetch(url, {$/", "language": "TypeScript", "kind": "constant", "scope": "requestJSON", "scopeKind": "function"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/decision-insight-platform-325145-325156/decision_replay_frontend/src/lib/api/client.ts", "pattern": "/^  const url = `${API_BASE}${path}`;$/", "language": "TypeScript", "kind": "constant", "scope": "requestJSON", "scopeKind": "function"}], "hash": "379fb1303748e231de735dddbf489855", "format-version": 4, "code-base-name": "decision_replay_frontend", "filename": "decision_replay_frontend/src/lib/api/client.ts", "revision_history": [{"76": ""}]}